{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"nextTick\", {\n    enumerable: true,\n    get: function () {\n      return nextTick;\n    }\n  });\n  Object.defineProperty(exports, \"globalThisShim\", {\n    enumerable: true,\n    get: function () {\n      return globalThisShim;\n    }\n  });\n  Object.defineProperty(exports, \"defaultBinaryType\", {\n    enumerable: true,\n    get: function () {\n      return defaultBinaryType;\n    }\n  });\n  exports.createCookieJar = createCookieJar;\n  exports.parse = parse;\n  Object.defineProperty(exports, \"CookieJar\", {\n    enumerable: true,\n    get: function () {\n      return CookieJar;\n    }\n  });\n  const nextTick = process.nextTick;\n  const globalThisShim = global;\n  const defaultBinaryType = \"nodebuffer\";\n  function createCookieJar() {\n    return new CookieJar();\n  }\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie\n   */\n  function parse(setCookieString) {\n    const parts = setCookieString.split(\"; \");\n    const i = parts[0].indexOf(\"=\");\n    if (i === -1) {\n      return;\n    }\n    const name = parts[0].substring(0, i).trim();\n    if (!name.length) {\n      return;\n    }\n    let value = parts[0].substring(i + 1).trim();\n    if (value.charCodeAt(0) === 0x22) {\n      // remove double quotes\n      value = value.slice(1, -1);\n    }\n    const cookie = {\n      name,\n      value\n    };\n    for (let j = 1; j < parts.length; j++) {\n      const subParts = parts[j].split(\"=\");\n      if (subParts.length !== 2) {\n        continue;\n      }\n      const key = subParts[0].trim();\n      const value = subParts[1].trim();\n      switch (key) {\n        case \"Expires\":\n          cookie.expires = new Date(value);\n          break;\n        case \"Max-Age\":\n          const expiration = new Date();\n          expiration.setUTCSeconds(expiration.getUTCSeconds() + parseInt(value, 10));\n          cookie.expires = expiration;\n          break;\n        default:\n        // ignore other keys\n      }\n    }\n    return cookie;\n  }\n  class CookieJar {\n    constructor() {\n      this._cookies = new Map();\n    }\n    parseCookies(values) {\n      if (!values) {\n        return;\n      }\n      values.forEach(value => {\n        const parsed = parse(value);\n        if (parsed) {\n          this._cookies.set(parsed.name, parsed);\n        }\n      });\n    }\n    get cookies() {\n      const now = Date.now();\n      this._cookies.forEach((cookie, name) => {\n        var _a;\n        if (((_a = cookie.expires) === null || _a === void 0 ? void 0 : _a.getTime()) < now) {\n          this._cookies.delete(name);\n        }\n      });\n      return this._cookies.entries();\n    }\n    addCookies(xhr) {\n      const cookies = [];\n      for (const [name, cookie] of this.cookies) {\n        cookies.push(`${name}=${cookie.value}`);\n      }\n      if (cookies.length) {\n        xhr.setDisableHeaderCheck(true);\n        xhr.setRequestHeader(\"cookie\", cookies.join(\"; \"));\n      }\n    }\n    appendCookies(headers) {\n      for (const [name, cookie] of this.cookies) {\n        headers.append(\"cookie\", `${name}=${cookie.value}`);\n      }\n    }\n  }\n});","lineCount":124,"map":[[7,2,1,0,"Object"],[7,8,1,0],[7,9,1,0,"defineProperty"],[7,23,1,0],[7,24,1,0,"exports"],[7,31,1,0],[8,4,1,0,"enumerable"],[8,14,1,0],[9,4,1,0,"get"],[9,7,1,0],[9,18,1,0,"get"],[9,19,1,0],[10,6,1,0],[10,13,1,0,"nextTick"],[10,21,1,0],[11,4,1,0],[12,2,1,0],[13,2,2,0,"Object"],[13,8,2,0],[13,9,2,0,"defineProperty"],[13,23,2,0],[13,24,2,0,"exports"],[13,31,2,0],[14,4,2,0,"enumerable"],[14,14,2,0],[15,4,2,0,"get"],[15,7,2,0],[15,18,2,0,"get"],[15,19,2,0],[16,6,2,0],[16,13,2,0,"globalThisShim"],[16,27,2,0],[17,4,2,0],[18,2,2,0],[19,2,3,0,"Object"],[19,8,3,0],[19,9,3,0,"defineProperty"],[19,23,3,0],[19,24,3,0,"exports"],[19,31,3,0],[20,4,3,0,"enumerable"],[20,14,3,0],[21,4,3,0,"get"],[21,7,3,0],[21,18,3,0,"get"],[21,19,3,0],[22,6,3,0],[22,13,3,0,"defaultBinaryType"],[22,30,3,0],[23,4,3,0],[24,2,3,0],[25,2,4,0,"exports"],[25,9,4,0],[25,10,4,0,"createCookieJar"],[25,25,4,0],[25,28,4,0,"createCookieJar"],[25,43,4,0],[26,2,10,0,"exports"],[26,9,10,0],[26,10,10,0,"parse"],[26,15,10,0],[26,18,10,0,"parse"],[26,23,10,0],[27,2,51,0,"Object"],[27,8,51,0],[27,9,51,0,"defineProperty"],[27,23,51,0],[27,24,51,0,"exports"],[27,31,51,0],[28,4,51,0,"enumerable"],[28,14,51,0],[29,4,51,0,"get"],[29,7,51,0],[29,18,51,0,"get"],[29,19,51,0],[30,6,51,0],[30,13,51,0,"CookieJar"],[30,22,51,0],[31,4,51,0],[32,2,51,0],[33,2,1,7],[33,8,1,13,"nextTick"],[33,16,1,21],[33,19,1,24,"process"],[33,26,1,31],[33,27,1,32,"nextTick"],[33,35,1,40],[34,2,2,7],[34,8,2,13,"globalThisShim"],[34,22,2,27],[34,25,2,30,"global"],[34,31,2,36],[35,2,3,7],[35,8,3,13,"defaultBinaryType"],[35,25,3,30],[35,28,3,33],[35,40,3,45],[36,2,4,7],[36,11,4,16,"createCookieJar"],[36,26,4,31,"createCookieJar"],[36,27,4,31],[36,29,4,34],[37,4,5,4],[37,11,5,11],[37,15,5,15,"CookieJar"],[37,24,5,24],[37,25,5,25],[37,26,5,26],[38,2,6,0],[39,2,7,0],[40,0,8,0],[41,0,9,0],[42,2,10,7],[42,11,10,16,"parse"],[42,16,10,21,"parse"],[42,17,10,22,"setCookieString"],[42,32,10,37],[42,34,10,39],[43,4,11,4],[43,10,11,10,"parts"],[43,15,11,15],[43,18,11,18,"setCookieString"],[43,33,11,33],[43,34,11,34,"split"],[43,39,11,39],[43,40,11,40],[43,44,11,44],[43,45,11,45],[44,4,12,4],[44,10,12,10,"i"],[44,11,12,11],[44,14,12,14,"parts"],[44,19,12,19],[44,20,12,20],[44,21,12,21],[44,22,12,22],[44,23,12,23,"indexOf"],[44,30,12,30],[44,31,12,31],[44,34,12,34],[44,35,12,35],[45,4,13,4],[45,8,13,8,"i"],[45,9,13,9],[45,14,13,14],[45,15,13,15],[45,16,13,16],[45,18,13,18],[46,6,14,8],[47,4,15,4],[48,4,16,4],[48,10,16,10,"name"],[48,14,16,14],[48,17,16,17,"parts"],[48,22,16,22],[48,23,16,23],[48,24,16,24],[48,25,16,25],[48,26,16,26,"substring"],[48,35,16,35],[48,36,16,36],[48,37,16,37],[48,39,16,39,"i"],[48,40,16,40],[48,41,16,41],[48,42,16,42,"trim"],[48,46,16,46],[48,47,16,47],[48,48,16,48],[49,4,17,4],[49,8,17,8],[49,9,17,9,"name"],[49,13,17,13],[49,14,17,14,"length"],[49,20,17,20],[49,22,17,22],[50,6,18,8],[51,4,19,4],[52,4,20,4],[52,8,20,8,"value"],[52,13,20,13],[52,16,20,16,"parts"],[52,21,20,21],[52,22,20,22],[52,23,20,23],[52,24,20,24],[52,25,20,25,"substring"],[52,34,20,34],[52,35,20,35,"i"],[52,36,20,36],[52,39,20,39],[52,40,20,40],[52,41,20,41],[52,42,20,42,"trim"],[52,46,20,46],[52,47,20,47],[52,48,20,48],[53,4,21,4],[53,8,21,8,"value"],[53,13,21,13],[53,14,21,14,"charCodeAt"],[53,24,21,24],[53,25,21,25],[53,26,21,26],[53,27,21,27],[53,32,21,32],[53,36,21,36],[53,38,21,38],[54,6,22,8],[55,6,23,8,"value"],[55,11,23,13],[55,14,23,16,"value"],[55,19,23,21],[55,20,23,22,"slice"],[55,25,23,27],[55,26,23,28],[55,27,23,29],[55,29,23,31],[55,30,23,32],[55,31,23,33],[55,32,23,34],[56,4,24,4],[57,4,25,4],[57,10,25,10,"cookie"],[57,16,25,16],[57,19,25,19],[58,6,26,8,"name"],[58,10,26,12],[59,6,27,8,"value"],[60,4,28,4],[60,5,28,5],[61,4,29,4],[61,9,29,9],[61,13,29,13,"j"],[61,14,29,14],[61,17,29,17],[61,18,29,18],[61,20,29,20,"j"],[61,21,29,21],[61,24,29,24,"parts"],[61,29,29,29],[61,30,29,30,"length"],[61,36,29,36],[61,38,29,38,"j"],[61,39,29,39],[61,41,29,41],[61,43,29,43],[62,6,30,8],[62,12,30,14,"subParts"],[62,20,30,22],[62,23,30,25,"parts"],[62,28,30,30],[62,29,30,31,"j"],[62,30,30,32],[62,31,30,33],[62,32,30,34,"split"],[62,37,30,39],[62,38,30,40],[62,41,30,43],[62,42,30,44],[63,6,31,8],[63,10,31,12,"subParts"],[63,18,31,20],[63,19,31,21,"length"],[63,25,31,27],[63,30,31,32],[63,31,31,33],[63,33,31,35],[64,8,32,12],[65,6,33,8],[66,6,34,8],[66,12,34,14,"key"],[66,15,34,17],[66,18,34,20,"subParts"],[66,26,34,28],[66,27,34,29],[66,28,34,30],[66,29,34,31],[66,30,34,32,"trim"],[66,34,34,36],[66,35,34,37],[66,36,34,38],[67,6,35,8],[67,12,35,14,"value"],[67,17,35,19],[67,20,35,22,"subParts"],[67,28,35,30],[67,29,35,31],[67,30,35,32],[67,31,35,33],[67,32,35,34,"trim"],[67,36,35,38],[67,37,35,39],[67,38,35,40],[68,6,36,8],[68,14,36,16,"key"],[68,17,36,19],[69,8,37,12],[69,13,37,17],[69,22,37,26],[70,10,38,16,"cookie"],[70,16,38,22],[70,17,38,23,"expires"],[70,24,38,30],[70,27,38,33],[70,31,38,37,"Date"],[70,35,38,41],[70,36,38,42,"value"],[70,41,38,47],[70,42,38,48],[71,10,39,16],[72,8,40,12],[72,13,40,17],[72,22,40,26],[73,10,41,16],[73,16,41,22,"expiration"],[73,26,41,32],[73,29,41,35],[73,33,41,39,"Date"],[73,37,41,43],[73,38,41,44],[73,39,41,45],[74,10,42,16,"expiration"],[74,20,42,26],[74,21,42,27,"setUTCSeconds"],[74,34,42,40],[74,35,42,41,"expiration"],[74,45,42,51],[74,46,42,52,"getUTCSeconds"],[74,59,42,65],[74,60,42,66],[74,61,42,67],[74,64,42,70,"parseInt"],[74,72,42,78],[74,73,42,79,"value"],[74,78,42,84],[74,80,42,86],[74,82,42,88],[74,83,42,89],[74,84,42,90],[75,10,43,16,"cookie"],[75,16,43,22],[75,17,43,23,"expires"],[75,24,43,30],[75,27,43,33,"expiration"],[75,37,43,43],[76,10,44,16],[77,8,45,12],[78,8,46,12],[79,6,47,8],[80,4,48,4],[81,4,49,4],[81,11,49,11,"cookie"],[81,17,49,17],[82,2,50,0],[83,2,51,7],[83,8,51,13,"CookieJar"],[83,17,51,22],[83,18,51,23],[84,4,52,4,"constructor"],[84,15,52,15,"constructor"],[84,16,52,15],[84,18,52,18],[85,6,53,8],[85,10,53,12],[85,11,53,13,"_cookies"],[85,19,53,21],[85,22,53,24],[85,26,53,28,"Map"],[85,29,53,31],[85,30,53,32],[85,31,53,33],[86,4,54,4],[87,4,55,4,"parseCookies"],[87,16,55,16,"parseCookies"],[87,17,55,17,"values"],[87,23,55,23],[87,25,55,25],[88,6,56,8],[88,10,56,12],[88,11,56,13,"values"],[88,17,56,19],[88,19,56,21],[89,8,57,12],[90,6,58,8],[91,6,59,8,"values"],[91,12,59,14],[91,13,59,15,"forEach"],[91,20,59,22],[91,21,59,24,"value"],[91,26,59,29],[91,30,59,34],[92,8,60,12],[92,14,60,18,"parsed"],[92,20,60,24],[92,23,60,27,"parse"],[92,28,60,32],[92,29,60,33,"value"],[92,34,60,38],[92,35,60,39],[93,8,61,12],[93,12,61,16,"parsed"],[93,18,61,22],[93,20,61,24],[94,10,62,16],[94,14,62,20],[94,15,62,21,"_cookies"],[94,23,62,29],[94,24,62,30,"set"],[94,27,62,33],[94,28,62,34,"parsed"],[94,34,62,40],[94,35,62,41,"name"],[94,39,62,45],[94,41,62,47,"parsed"],[94,47,62,53],[94,48,62,54],[95,8,63,12],[96,6,64,8],[96,7,64,9],[96,8,64,10],[97,4,65,4],[98,4,66,4],[98,8,66,8,"cookies"],[98,15,66,15,"cookies"],[98,16,66,15],[98,18,66,18],[99,6,67,8],[99,12,67,14,"now"],[99,15,67,17],[99,18,67,20,"Date"],[99,22,67,24],[99,23,67,25,"now"],[99,26,67,28],[99,27,67,29],[99,28,67,30],[100,6,68,8],[100,10,68,12],[100,11,68,13,"_cookies"],[100,19,68,21],[100,20,68,22,"forEach"],[100,27,68,29],[100,28,68,30],[100,29,68,31,"cookie"],[100,35,68,37],[100,37,68,39,"name"],[100,41,68,43],[100,46,68,48],[101,8,69,12],[101,12,69,16,"_a"],[101,14,69,18],[102,8,70,12],[102,12,70,16],[102,13,70,17],[102,14,70,18,"_a"],[102,16,70,20],[102,19,70,23,"cookie"],[102,25,70,29],[102,26,70,30,"expires"],[102,33,70,37],[102,39,70,43],[102,43,70,47],[102,47,70,51,"_a"],[102,49,70,53],[102,54,70,58],[102,59,70,63],[102,60,70,64],[102,63,70,67],[102,68,70,72],[102,69,70,73],[102,72,70,76,"_a"],[102,74,70,78],[102,75,70,79,"getTime"],[102,82,70,86],[102,83,70,87],[102,84,70,88],[102,88,70,92,"now"],[102,91,70,95],[102,93,70,97],[103,10,71,16],[103,14,71,20],[103,15,71,21,"_cookies"],[103,23,71,29],[103,24,71,30,"delete"],[103,30,71,36],[103,31,71,37,"name"],[103,35,71,41],[103,36,71,42],[104,8,72,12],[105,6,73,8],[105,7,73,9],[105,8,73,10],[106,6,74,8],[106,13,74,15],[106,17,74,19],[106,18,74,20,"_cookies"],[106,26,74,28],[106,27,74,29,"entries"],[106,34,74,36],[106,35,74,37],[106,36,74,38],[107,4,75,4],[108,4,76,4,"addCookies"],[108,14,76,14,"addCookies"],[108,15,76,15,"xhr"],[108,18,76,18],[108,20,76,20],[109,6,77,8],[109,12,77,14,"cookies"],[109,19,77,21],[109,22,77,24],[109,24,77,26],[110,6,78,8],[110,11,78,13],[110,17,78,19],[110,18,78,20,"name"],[110,22,78,24],[110,24,78,26,"cookie"],[110,30,78,32],[110,31,78,33],[110,35,78,37],[110,39,78,41],[110,40,78,42,"cookies"],[110,47,78,49],[110,49,78,51],[111,8,79,12,"cookies"],[111,15,79,19],[111,16,79,20,"push"],[111,20,79,24],[111,21,79,25],[111,24,79,28,"name"],[111,28,79,32],[111,32,79,36,"cookie"],[111,38,79,42],[111,39,79,43,"value"],[111,44,79,48],[111,46,79,50],[111,47,79,51],[112,6,80,8],[113,6,81,8],[113,10,81,12,"cookies"],[113,17,81,19],[113,18,81,20,"length"],[113,24,81,26],[113,26,81,28],[114,8,82,12,"xhr"],[114,11,82,15],[114,12,82,16,"setDisableHeaderCheck"],[114,33,82,37],[114,34,82,38],[114,38,82,42],[114,39,82,43],[115,8,83,12,"xhr"],[115,11,83,15],[115,12,83,16,"setRequestHeader"],[115,28,83,32],[115,29,83,33],[115,37,83,41],[115,39,83,43,"cookies"],[115,46,83,50],[115,47,83,51,"join"],[115,51,83,55],[115,52,83,56],[115,56,83,60],[115,57,83,61],[115,58,83,62],[116,6,84,8],[117,4,85,4],[118,4,86,4,"appendCookies"],[118,17,86,17,"appendCookies"],[118,18,86,18,"headers"],[118,25,86,25],[118,27,86,27],[119,6,87,8],[119,11,87,13],[119,17,87,19],[119,18,87,20,"name"],[119,22,87,24],[119,24,87,26,"cookie"],[119,30,87,32],[119,31,87,33],[119,35,87,37],[119,39,87,41],[119,40,87,42,"cookies"],[119,47,87,49],[119,49,87,51],[120,8,88,12,"headers"],[120,15,88,19],[120,16,88,20,"append"],[120,22,88,26],[120,23,88,27],[120,31,88,35],[120,33,88,37],[120,36,88,40,"name"],[120,40,88,44],[120,44,88,48,"cookie"],[120,50,88,54],[120,51,88,55,"value"],[120,56,88,60],[120,58,88,62],[120,59,88,63],[121,6,89,8],[122,4,90,4],[123,2,91,0],[124,0,91,1],[124,3]],"functionMap":{"names":["<global>","createCookieJar","parse","CookieJar","CookieJar#constructor","CookieJar#parseCookies","values.forEach$argument_0","CookieJar#get__cookies","_cookies.forEach$argument_0","CookieJar#addCookies","CookieJar#appendCookies"],"mappings":"AAA;OCG;CDE;OEI;CFwC;OGC;ICC;KDE;IEC;uBCI;SDK;KFC;IIC;8BCE;SDK;KJE;IMC;KNS;IOC;KPI;CHC"},"hasCjsExports":false},"type":"js/module"}]}