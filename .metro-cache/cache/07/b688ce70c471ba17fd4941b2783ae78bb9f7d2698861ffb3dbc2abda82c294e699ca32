{"dependencies":[{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":36,"index":36}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":37},"end":{"line":2,"column":42,"index":79}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/AppState","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JfCM6WRyn2619+pzBJhEHd1+SSw=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":131},"end":{"line":4,"column":69,"index":200}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/socket","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":201},"end":{"line":5,"column":47,"index":248}}],"key":"Zr9DRnwDVZxHFeGDyPwyujLo6pk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/_layout.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return RootLayout;\n    }\n  });\n  var _expoRouter = require(_dependencyMap[0], \"expo-router\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeWebDistExportsAppState = require(_dependencyMap[2], \"react-native-web/dist/exports/AppState\");\n  var AppState = _interopDefault(_reactNativeWebDistExportsAppState);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesSocket = require(_dependencyMap[5], \"../services/socket\");\n  var socketService = _interopDefault(_servicesSocket);\n  var _reactJsxDevRuntime = require(_dependencyMap[6], \"react/jsx-dev-runtime\");\n  function RootLayout() {\n    _s();\n    const appState = (0, _react.useRef)(AppState.default.currentState);\n    (0, _react.useEffect)(() => {\n      // Initialize Socket.IO connection\n      console.log('ðŸ”µ Initializing Socket.IO connection...');\n      socketService.default.connect();\n      return () => {\n        socketService.default.disconnect();\n      };\n    }, []);\n    (0, _react.useEffect)(() => {\n      // Only clear session on background for mobile (not web)\n      // Web tabs switching shouldn't clear the session\n      if (Platform.default.OS !== 'web') {\n        const subscription = AppState.default.addEventListener('change', nextAppState => {\n          if (appState.current.match(/active|foreground/) && nextAppState === 'background') {\n            // User moved app to background - clear session after 2 seconds\n            setTimeout(async () => {\n              const currentState = AppState.default.currentState;\n              if (currentState === 'background') {\n                await AsyncStorage.default.removeItem('nickname');\n                await AsyncStorage.default.removeItem('userId');\n                console.log('ðŸ”„ Nickname and userId cleared - app sent to background');\n              }\n            }, 2000);\n          }\n          appState.current = nextAppState;\n        });\n        return () => {\n          subscription.remove();\n          socketService.default.disconnect();\n        };\n      }\n\n      // For web, just handle socket disconnect on unmount\n      return () => {\n        socketService.default.disconnect();\n      };\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack, {\n      screenOptions: {\n        headerShown: false\n      },\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n        name: \"index\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n        name: \"nickname\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n        name: \"(tabs)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this);\n  }\n  _s(RootLayout, \"SJ6bdVgpRcCPNoHTwKgwl3+2iw4=\");\n  _c = RootLayout;\n  var _c;\n  $RefreshReg$(_c, \"RootLayout\");\n});","lineCount":104,"map":[[14,2,7,15,"Object"],[14,8,7,15],[14,9,7,15,"defineProperty"],[14,23,7,15],[14,24,7,15,"exports"],[14,31,7,15],[15,4,7,15,"enumerable"],[15,14,7,15],[16,4,7,15,"get"],[16,7,7,15],[16,18,7,15,"get"],[16,19,7,15],[17,6,7,15],[17,13,7,15,"RootLayout"],[17,23,7,15],[18,4,7,15],[19,2,7,15],[20,2,1,0],[20,6,1,0,"_expoRouter"],[20,17,1,0],[20,20,1,0,"require"],[20,27,1,0],[20,28,1,0,"_dependencyMap"],[20,42,1,0],[21,2,2,0],[21,6,2,0,"_react"],[21,12,2,0],[21,15,2,0,"require"],[21,22,2,0],[21,23,2,0,"_dependencyMap"],[21,37,2,0],[22,2,2,42],[22,6,2,42,"_reactNativeWebDistExportsAppState"],[22,40,2,42],[22,43,2,42,"require"],[22,50,2,42],[22,51,2,42,"_dependencyMap"],[22,65,2,42],[23,2,2,42],[23,6,2,42,"AppState"],[23,14,2,42],[23,17,2,42,"_interopDefault"],[23,32,2,42],[23,33,2,42,"_reactNativeWebDistExportsAppState"],[23,67,2,42],[24,2,2,42],[24,6,2,42,"_reactNativeWebDistExportsPlatform"],[24,40,2,42],[24,43,2,42,"require"],[24,50,2,42],[24,51,2,42,"_dependencyMap"],[24,65,2,42],[25,2,2,42],[25,6,2,42,"Platform"],[25,14,2,42],[25,17,2,42,"_interopDefault"],[25,32,2,42],[25,33,2,42,"_reactNativeWebDistExportsPlatform"],[25,67,2,42],[26,2,4,0],[26,6,4,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,4,0],[26,45,4,0,"require"],[26,52,4,0],[26,53,4,0,"_dependencyMap"],[26,67,4,0],[27,2,4,0],[27,6,4,0,"AsyncStorage"],[27,18,4,0],[27,21,4,0,"_interopDefault"],[27,36,4,0],[27,37,4,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,4,0],[28,2,5,0],[28,6,5,0,"_servicesSocket"],[28,21,5,0],[28,24,5,0,"require"],[28,31,5,0],[28,32,5,0,"_dependencyMap"],[28,46,5,0],[29,2,5,0],[29,6,5,0,"socketService"],[29,19,5,0],[29,22,5,0,"_interopDefault"],[29,37,5,0],[29,38,5,0,"_servicesSocket"],[29,53,5,0],[30,2,5,47],[30,6,5,47,"_reactJsxDevRuntime"],[30,25,5,47],[30,28,5,47,"require"],[30,35,5,47],[30,36,5,47,"_dependencyMap"],[30,50,5,47],[31,2,7,15],[31,11,7,24,"RootLayout"],[31,21,7,34,"RootLayout"],[31,22,7,34],[31,24,7,37],[32,4,7,37,"_s"],[32,6,7,37],[33,4,8,2],[33,10,8,8,"appState"],[33,18,8,16],[33,21,8,19],[33,25,8,19,"useRef"],[33,31,8,25],[33,32,8,25,"useRef"],[33,38,8,25],[33,40,8,26,"AppState"],[33,48,8,34],[33,49,8,34,"default"],[33,56,8,34],[33,57,8,35,"currentState"],[33,69,8,47],[33,70,8,48],[34,4,10,2],[34,8,10,2,"useEffect"],[34,14,10,11],[34,15,10,11,"useEffect"],[34,24,10,11],[34,26,10,12],[34,32,10,18],[35,6,11,4],[36,6,12,4,"console"],[36,13,12,11],[36,14,12,12,"log"],[36,17,12,15],[36,18,12,16],[36,59,12,57],[36,60,12,58],[37,6,13,4,"socketService"],[37,19,13,17],[37,20,13,17,"default"],[37,27,13,17],[37,28,13,18,"connect"],[37,35,13,25],[37,36,13,26],[37,37,13,27],[38,6,15,4],[38,13,15,11],[38,19,15,17],[39,8,16,6,"socketService"],[39,21,16,19],[39,22,16,19,"default"],[39,29,16,19],[39,30,16,20,"disconnect"],[39,40,16,30],[39,41,16,31],[39,42,16,32],[40,6,17,4],[40,7,17,5],[41,4,18,2],[41,5,18,3],[41,7,18,5],[41,9,18,7],[41,10,18,8],[42,4,20,2],[42,8,20,2,"useEffect"],[42,14,20,11],[42,15,20,11,"useEffect"],[42,24,20,11],[42,26,20,12],[42,32,20,18],[43,6,21,4],[44,6,22,4],[45,6,23,4],[45,10,23,8,"Platform"],[45,18,23,16],[45,19,23,16,"default"],[45,26,23,16],[45,27,23,17,"OS"],[45,29,23,19],[45,34,23,24],[45,39,23,29],[45,41,23,31],[46,8,24,6],[46,14,24,12,"subscription"],[46,26,24,24],[46,29,24,27,"AppState"],[46,37,24,35],[46,38,24,35,"default"],[46,45,24,35],[46,46,24,36,"addEventListener"],[46,62,24,52],[46,63,24,53],[46,71,24,61],[46,73,24,64,"nextAppState"],[46,85,24,76],[46,89,24,81],[47,10,25,8],[47,14,25,12,"appState"],[47,22,25,20],[47,23,25,21,"current"],[47,30,25,28],[47,31,25,29,"match"],[47,36,25,34],[47,37,25,35],[47,56,25,54],[47,57,25,55],[47,61,25,59,"nextAppState"],[47,73,25,71],[47,78,25,76],[47,90,25,88],[47,92,25,90],[48,12,26,10],[49,12,27,10,"setTimeout"],[49,22,27,20],[49,23,27,21],[49,35,27,33],[50,14,28,12],[50,20,28,18,"currentState"],[50,32,28,30],[50,35,28,33,"AppState"],[50,43,28,41],[50,44,28,41,"default"],[50,51,28,41],[50,52,28,42,"currentState"],[50,64,28,54],[51,14,29,12],[51,18,29,16,"currentState"],[51,30,29,28],[51,35,29,33],[51,47,29,45],[51,49,29,47],[52,16,30,14],[52,22,30,20,"AsyncStorage"],[52,34,30,32],[52,35,30,32,"default"],[52,42,30,32],[52,43,30,33,"removeItem"],[52,53,30,43],[52,54,30,44],[52,64,30,54],[52,65,30,55],[53,16,31,14],[53,22,31,20,"AsyncStorage"],[53,34,31,32],[53,35,31,32,"default"],[53,42,31,32],[53,43,31,33,"removeItem"],[53,53,31,43],[53,54,31,44],[53,62,31,52],[53,63,31,53],[54,16,32,14,"console"],[54,23,32,21],[54,24,32,22,"log"],[54,27,32,25],[54,28,32,26],[54,85,32,83],[54,86,32,84],[55,14,33,12],[56,12,34,10],[56,13,34,11],[56,15,34,13],[56,19,34,17],[56,20,34,18],[57,10,35,8],[58,10,37,8,"appState"],[58,18,37,16],[58,19,37,17,"current"],[58,26,37,24],[58,29,37,27,"nextAppState"],[58,41,37,39],[59,8,38,6],[59,9,38,7],[59,10,38,8],[60,8,40,6],[60,15,40,13],[60,21,40,19],[61,10,41,8,"subscription"],[61,22,41,20],[61,23,41,21,"remove"],[61,29,41,27],[61,30,41,28],[61,31,41,29],[62,10,42,8,"socketService"],[62,23,42,21],[62,24,42,21,"default"],[62,31,42,21],[62,32,42,22,"disconnect"],[62,42,42,32],[62,43,42,33],[62,44,42,34],[63,8,43,6],[63,9,43,7],[64,6,44,4],[66,6,46,4],[67,6,47,4],[67,13,47,11],[67,19,47,17],[68,8,48,6,"socketService"],[68,21,48,19],[68,22,48,19,"default"],[68,29,48,19],[68,30,48,20,"disconnect"],[68,40,48,30],[68,41,48,31],[68,42,48,32],[69,6,49,4],[69,7,49,5],[70,4,50,2],[70,5,50,3],[70,7,50,5],[70,9,50,7],[70,10,50,8],[71,4,52,2],[71,24,53,4],[71,28,53,4,"_reactJsxDevRuntime"],[71,47,53,4],[71,48,53,4,"jsxDEV"],[71,54,53,4],[71,56,53,5,"_expoRouter"],[71,67,53,10],[71,68,53,10,"Stack"],[71,73,53,10],[72,6,53,11,"screenOptions"],[72,19,53,24],[72,21,53,26],[73,8,53,28,"headerShown"],[73,19,53,39],[73,21,53,41],[74,6,53,47],[74,7,53,49],[75,6,53,49,"children"],[75,14,53,49],[75,30,54,6],[75,34,54,6,"_reactJsxDevRuntime"],[75,53,54,6],[75,54,54,6,"jsxDEV"],[75,60,54,6],[75,62,54,7,"_expoRouter"],[75,73,54,12],[75,74,54,12,"Stack"],[75,79,54,12],[75,80,54,13,"Screen"],[75,86,54,19],[76,8,54,20,"name"],[76,12,54,24],[76,14,54,25],[77,6,54,32],[78,8,54,32,"fileName"],[78,16,54,32],[78,18,54,32,"_jsxFileName"],[78,30,54,32],[79,8,54,32,"lineNumber"],[79,18,54,32],[80,8,54,32,"columnNumber"],[80,20,54,32],[81,6,54,32],[81,13,54,34],[81,14,54,35],[81,29,55,6],[81,33,55,6,"_reactJsxDevRuntime"],[81,52,55,6],[81,53,55,6,"jsxDEV"],[81,59,55,6],[81,61,55,7,"_expoRouter"],[81,72,55,12],[81,73,55,12,"Stack"],[81,78,55,12],[81,79,55,13,"Screen"],[81,85,55,19],[82,8,55,20,"name"],[82,12,55,24],[82,14,55,25],[83,6,55,35],[84,8,55,35,"fileName"],[84,16,55,35],[84,18,55,35,"_jsxFileName"],[84,30,55,35],[85,8,55,35,"lineNumber"],[85,18,55,35],[86,8,55,35,"columnNumber"],[86,20,55,35],[87,6,55,35],[87,13,55,37],[87,14,55,38],[87,29,56,6],[87,33,56,6,"_reactJsxDevRuntime"],[87,52,56,6],[87,53,56,6,"jsxDEV"],[87,59,56,6],[87,61,56,7,"_expoRouter"],[87,72,56,12],[87,73,56,12,"Stack"],[87,78,56,12],[87,79,56,13,"Screen"],[87,85,56,19],[88,8,56,20,"name"],[88,12,56,24],[88,14,56,25],[89,6,56,33],[90,8,56,33,"fileName"],[90,16,56,33],[90,18,56,33,"_jsxFileName"],[90,30,56,33],[91,8,56,33,"lineNumber"],[91,18,56,33],[92,8,56,33,"columnNumber"],[92,20,56,33],[93,6,56,33],[93,13,56,35],[93,14,56,36],[94,4,56,36],[95,6,56,36,"fileName"],[95,14,56,36],[95,16,56,36,"_jsxFileName"],[95,28,56,36],[96,6,56,36,"lineNumber"],[96,16,56,36],[97,6,56,36,"columnNumber"],[97,18,56,36],[98,4,56,36],[98,11,57,11],[98,12,57,12],[99,2,59,0],[100,2,59,1,"_s"],[100,4,59,1],[100,5,7,24,"RootLayout"],[100,15,7,34],[101,2,7,34,"_c"],[101,4,7,34],[101,7,7,24,"RootLayout"],[101,17,7,34],[102,2,7,34],[102,6,7,34,"_c"],[102,8,7,34],[103,2,7,34,"$RefreshReg$"],[103,14,7,34],[103,15,7,34,"_c"],[103,17,7,34],[104,0,7,34],[104,3]],"functionMap":{"names":["<global>","RootLayout","useEffect$argument_0","<anonymous>","AppState.addEventListener$argument_1","setTimeout$argument_0"],"mappings":"AAA;eCM;YCG;WCK;KDE;GDC;YCE;+DEI;qBCG;WDO;OFI;aCE;ODG;WCI;KDE;GDC"},"hasCjsExports":false},"type":"js/module"}]}