{"dependencies":[{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":117},"end":{"line":3,"column":39,"index":156}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _socketIoClient = require(_dependencyMap[0], \"socket.io-client\");\n  var _expoConstants = require(_dependencyMap[1], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n  class SocketService {\n    socket = null;\n    isConnected = false;\n    connectionListeners = [];\n    async connect() {\n      try {\n        console.log('ðŸ”µ Connecting to Socket.IO server:', API_URL);\n\n        // Anonymous system - no auth token required\n        this.socket = (0, _socketIoClient.io)(API_URL, {\n          path: '/socket.io/',\n          transports: ['websocket', 'polling'],\n          reconnection: true,\n          reconnectionDelay: 1000,\n          reconnectionAttempts: 5,\n          timeout: 10000\n        });\n        this.socket.on('connect', () => {\n          console.log('Socket connected:', this.socket?.id);\n          this.isConnected = true;\n          this.notifyConnectionListeners(true);\n        });\n        this.socket.on('disconnect', reason => {\n          console.log('Socket disconnected:', reason);\n          this.isConnected = false;\n          this.notifyConnectionListeners(false);\n        });\n        this.socket.on('connect_error', error => {\n          console.error('Connection error:', error.message);\n          this.isConnected = false;\n          this.notifyConnectionListeners(false);\n        });\n        return true;\n      } catch (error) {\n        console.error('Socket connection error:', error);\n        return false;\n      }\n    }\n    disconnect() {\n      if (this.socket) {\n        this.socket.disconnect();\n        this.socket = null;\n        this.isConnected = false;\n      }\n    }\n    emit(event, data) {\n      if (this.socket && this.isConnected) {\n        this.socket.emit(event, data);\n      } else {\n        console.warn('Socket not connected, cannot emit:', event);\n      }\n    }\n    on(event, callback) {\n      if (this.socket) {\n        this.socket.on(event, callback);\n      }\n    }\n    off(event, callback) {\n      if (this.socket) {\n        this.socket.off(event, callback);\n      }\n    }\n    addConnectionListener(callback) {\n      this.connectionListeners.push(callback);\n    }\n    removeConnectionListener(callback) {\n      this.connectionListeners = this.connectionListeners.filter(listener => listener !== callback);\n    }\n    notifyConnectionListeners(isConnected) {\n      this.connectionListeners.forEach(callback => {\n        callback(isConnected);\n      });\n    }\n  }\n  var _default = new SocketService();\n});","lineCount":97,"map":[[12,2,97,0,"Object"],[12,8,97,0],[12,9,97,0,"defineProperty"],[12,23,97,0],[12,24,97,0,"exports"],[12,31,97,0],[13,4,97,0,"enumerable"],[13,14,97,0],[14,4,97,0,"get"],[14,7,97,0],[14,18,97,0,"get"],[14,19,97,0],[15,6,97,0],[15,13,97,0,"_default"],[15,21,97,0],[16,4,97,0],[17,2,97,0],[18,2,1,0],[18,6,1,0,"_socketIoClient"],[18,21,1,0],[18,24,1,0,"require"],[18,31,1,0],[18,32,1,0,"_dependencyMap"],[18,46,1,0],[19,2,3,0],[19,6,3,0,"_expoConstants"],[19,20,3,0],[19,23,3,0,"require"],[19,30,3,0],[19,31,3,0,"_dependencyMap"],[19,45,3,0],[20,2,3,0],[20,6,3,0,"Constants"],[20,15,3,0],[20,18,3,0,"_interopDefault"],[20,33,3,0],[20,34,3,0,"_expoConstants"],[20,48,3,0],[21,2,5,0],[21,8,5,6,"API_URL"],[21,15,5,13],[21,18,5,16,"Constants"],[21,27,5,25],[21,28,5,25,"default"],[21,35,5,25],[21,36,5,26,"expoConfig"],[21,46,5,36],[21,48,5,38,"extra"],[21,53,5,43],[21,55,5,45,"EXPO_PUBLIC_BACKEND_URL"],[21,78,5,68],[21,82,5,72,"process"],[21,89,5,79],[21,90,5,80,"env"],[21,93,5,83],[21,94,5,84,"EXPO_PUBLIC_BACKEND_URL"],[21,117,5,107],[21,121,5,111],[21,144,5,134],[22,2,7,0],[22,8,7,6,"SocketService"],[22,21,7,19],[22,22,7,20],[23,4,8,2,"socket"],[23,10,8,8],[23,13,8,26],[23,17,8,30],[24,4,9,2,"isConnected"],[24,15,9,13],[24,18,9,25],[24,23,9,30],[25,4,10,2,"connectionListeners"],[25,23,10,21],[25,26,10,60],[25,28,10,62],[26,4,12,2],[26,10,12,8,"connect"],[26,17,12,15,"connect"],[26,18,12,15],[26,20,12,18],[27,6,13,4],[27,10,13,8],[28,8,14,6,"console"],[28,15,14,13],[28,16,14,14,"log"],[28,19,14,17],[28,20,14,18],[28,56,14,54],[28,58,14,56,"API_URL"],[28,65,14,63],[28,66,14,64],[30,8,16,6],[31,8,17,6],[31,12,17,10],[31,13,17,11,"socket"],[31,19,17,17],[31,22,17,20],[31,26,17,20,"io"],[31,41,17,22],[31,42,17,22,"io"],[31,44,17,22],[31,46,17,23,"API_URL"],[31,53,17,30],[31,55,17,32],[32,10,18,8,"path"],[32,14,18,12],[32,16,18,14],[32,29,18,27],[33,10,19,8,"transports"],[33,20,19,18],[33,22,19,20],[33,23,19,21],[33,34,19,32],[33,36,19,34],[33,45,19,43],[33,46,19,44],[34,10,20,8,"reconnection"],[34,22,20,20],[34,24,20,22],[34,28,20,26],[35,10,21,8,"reconnectionDelay"],[35,27,21,25],[35,29,21,27],[35,33,21,31],[36,10,22,8,"reconnectionAttempts"],[36,30,22,28],[36,32,22,30],[36,33,22,31],[37,10,23,8,"timeout"],[37,17,23,15],[37,19,23,17],[38,8,24,6],[38,9,24,7],[38,10,24,8],[39,8,26,6],[39,12,26,10],[39,13,26,11,"socket"],[39,19,26,17],[39,20,26,18,"on"],[39,22,26,20],[39,23,26,21],[39,32,26,30],[39,34,26,32],[39,40,26,38],[40,10,27,8,"console"],[40,17,27,15],[40,18,27,16,"log"],[40,21,27,19],[40,22,27,20],[40,41,27,39],[40,43,27,41],[40,47,27,45],[40,48,27,46,"socket"],[40,54,27,52],[40,56,27,54,"id"],[40,58,27,56],[40,59,27,57],[41,10,28,8],[41,14,28,12],[41,15,28,13,"isConnected"],[41,26,28,24],[41,29,28,27],[41,33,28,31],[42,10,29,8],[42,14,29,12],[42,15,29,13,"notifyConnectionListeners"],[42,40,29,38],[42,41,29,39],[42,45,29,43],[42,46,29,44],[43,8,30,6],[43,9,30,7],[43,10,30,8],[44,8,32,6],[44,12,32,10],[44,13,32,11,"socket"],[44,19,32,17],[44,20,32,18,"on"],[44,22,32,20],[44,23,32,21],[44,35,32,33],[44,37,32,36,"reason"],[44,43,32,50],[44,47,32,55],[45,10,33,8,"console"],[45,17,33,15],[45,18,33,16,"log"],[45,21,33,19],[45,22,33,20],[45,44,33,42],[45,46,33,44,"reason"],[45,52,33,50],[45,53,33,51],[46,10,34,8],[46,14,34,12],[46,15,34,13,"isConnected"],[46,26,34,24],[46,29,34,27],[46,34,34,32],[47,10,35,8],[47,14,35,12],[47,15,35,13,"notifyConnectionListeners"],[47,40,35,38],[47,41,35,39],[47,46,35,44],[47,47,35,45],[48,8,36,6],[48,9,36,7],[48,10,36,8],[49,8,38,6],[49,12,38,10],[49,13,38,11,"socket"],[49,19,38,17],[49,20,38,18,"on"],[49,22,38,20],[49,23,38,21],[49,38,38,36],[49,40,38,39,"error"],[49,45,38,51],[49,49,38,56],[50,10,39,8,"console"],[50,17,39,15],[50,18,39,16,"error"],[50,23,39,21],[50,24,39,22],[50,43,39,41],[50,45,39,43,"error"],[50,50,39,48],[50,51,39,49,"message"],[50,58,39,56],[50,59,39,57],[51,10,40,8],[51,14,40,12],[51,15,40,13,"isConnected"],[51,26,40,24],[51,29,40,27],[51,34,40,32],[52,10,41,8],[52,14,41,12],[52,15,41,13,"notifyConnectionListeners"],[52,40,41,38],[52,41,41,39],[52,46,41,44],[52,47,41,45],[53,8,42,6],[53,9,42,7],[53,10,42,8],[54,8,44,6],[54,15,44,13],[54,19,44,17],[55,6,46,4],[55,7,46,5],[55,8,46,6],[55,15,46,13,"error"],[55,20,46,18],[55,22,46,20],[56,8,47,6,"console"],[56,15,47,13],[56,16,47,14,"error"],[56,21,47,19],[56,22,47,20],[56,48,47,46],[56,50,47,48,"error"],[56,55,47,53],[56,56,47,54],[57,8,48,6],[57,15,48,13],[57,20,48,18],[58,6,49,4],[59,4,50,2],[60,4,52,2,"disconnect"],[60,14,52,12,"disconnect"],[60,15,52,12],[60,17,52,15],[61,6,53,4],[61,10,53,8],[61,14,53,12],[61,15,53,13,"socket"],[61,21,53,19],[61,23,53,21],[62,8,54,6],[62,12,54,10],[62,13,54,11,"socket"],[62,19,54,17],[62,20,54,18,"disconnect"],[62,30,54,28],[62,31,54,29],[62,32,54,30],[63,8,55,6],[63,12,55,10],[63,13,55,11,"socket"],[63,19,55,17],[63,22,55,20],[63,26,55,24],[64,8,56,6],[64,12,56,10],[64,13,56,11,"isConnected"],[64,24,56,22],[64,27,56,25],[64,32,56,30],[65,6,57,4],[66,4,58,2],[67,4,60,2,"emit"],[67,8,60,6,"emit"],[67,9,60,7,"event"],[67,14,60,20],[67,16,60,22,"data"],[67,20,60,31],[67,22,60,33],[68,6,61,4],[68,10,61,8],[68,14,61,12],[68,15,61,13,"socket"],[68,21,61,19],[68,25,61,23],[68,29,61,27],[68,30,61,28,"isConnected"],[68,41,61,39],[68,43,61,41],[69,8,62,6],[69,12,62,10],[69,13,62,11,"socket"],[69,19,62,17],[69,20,62,18,"emit"],[69,24,62,22],[69,25,62,23,"event"],[69,30,62,28],[69,32,62,30,"data"],[69,36,62,34],[69,37,62,35],[70,6,63,4],[70,7,63,5],[70,13,63,11],[71,8,64,6,"console"],[71,15,64,13],[71,16,64,14,"warn"],[71,20,64,18],[71,21,64,19],[71,57,64,55],[71,59,64,57,"event"],[71,64,64,62],[71,65,64,63],[72,6,65,4],[73,4,66,2],[74,4,68,2,"on"],[74,6,68,4,"on"],[74,7,68,5,"event"],[74,12,68,18],[74,14,68,20,"callback"],[74,22,68,49],[74,24,68,51],[75,6,69,4],[75,10,69,8],[75,14,69,12],[75,15,69,13,"socket"],[75,21,69,19],[75,23,69,21],[76,8,70,6],[76,12,70,10],[76,13,70,11,"socket"],[76,19,70,17],[76,20,70,18,"on"],[76,22,70,20],[76,23,70,21,"event"],[76,28,70,26],[76,30,70,28,"callback"],[76,38,70,36],[76,39,70,37],[77,6,71,4],[78,4,72,2],[79,4,74,2,"off"],[79,7,74,5,"off"],[79,8,74,6,"event"],[79,13,74,19],[79,15,74,21,"callback"],[79,23,74,51],[79,25,74,53],[80,6,75,4],[80,10,75,8],[80,14,75,12],[80,15,75,13,"socket"],[80,21,75,19],[80,23,75,21],[81,8,76,6],[81,12,76,10],[81,13,76,11,"socket"],[81,19,76,17],[81,20,76,18,"off"],[81,23,76,21],[81,24,76,22,"event"],[81,29,76,27],[81,31,76,29,"callback"],[81,39,76,37],[81,40,76,38],[82,6,77,4],[83,4,78,2],[84,4,80,2,"addConnectionListener"],[84,25,80,23,"addConnectionListener"],[84,26,80,24,"callback"],[84,34,80,64],[84,36,80,66],[85,6,81,4],[85,10,81,8],[85,11,81,9,"connectionListeners"],[85,30,81,28],[85,31,81,29,"push"],[85,35,81,33],[85,36,81,34,"callback"],[85,44,81,42],[85,45,81,43],[86,4,82,2],[87,4,84,2,"removeConnectionListener"],[87,28,84,26,"removeConnectionListener"],[87,29,84,27,"callback"],[87,37,84,67],[87,39,84,69],[88,6,85,4],[88,10,85,8],[88,11,85,9,"connectionListeners"],[88,30,85,28],[88,33,85,31],[88,37,85,35],[88,38,85,36,"connectionListeners"],[88,57,85,55],[88,58,85,56,"filter"],[88,64,85,62],[88,65,86,6,"listener"],[88,73,86,14],[88,77,86,18,"listener"],[88,85,86,26],[88,90,86,31,"callback"],[88,98,87,4],[88,99,87,5],[89,4,88,2],[90,4,90,2,"notifyConnectionListeners"],[90,29,90,27,"notifyConnectionListeners"],[90,30,90,28,"isConnected"],[90,41,90,48],[90,43,90,50],[91,6,91,4],[91,10,91,8],[91,11,91,9,"connectionListeners"],[91,30,91,28],[91,31,91,29,"forEach"],[91,38,91,36],[91,39,91,37,"callback"],[91,47,91,45],[91,51,91,49],[92,8,92,6,"callback"],[92,16,92,14],[92,17,92,15,"isConnected"],[92,28,92,26],[92,29,92,27],[93,6,93,4],[93,7,93,5],[93,8,93,6],[94,4,94,2],[95,2,95,0],[96,2,97,0],[96,6,97,0,"_default"],[96,14,97,0],[96,17,97,15],[96,21,97,19,"SocketService"],[96,34,97,32],[96,35,97,33],[96,36,97,34],[97,0,97,35],[97,3]],"functionMap":{"names":["<global>","SocketService","SocketService#connect","on$argument_1","SocketService#disconnect","SocketService#emit","SocketService#on","SocketService#off","SocketService#addConnectionListener","SocketService#removeConnectionListener","connectionListeners.filter$argument_0","SocketService#notifyConnectionListeners","connectionListeners.forEach$argument_0"],"mappings":"AAA;ACM;ECK;gCCc;ODI;mCCE;ODI;sCCE;ODI;GDQ;EGE;GHM;EIE;GJM;EKE;GLI;EME;GNI;EOE;GPE;EQE;MCE,iCD;GRE;EUE;qCCC;KDE;GVC;CDC"},"hasCjsExports":false},"type":"js/module"}]}