{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.Backoff = Backoff;\n  /**\n   * Initialize backoff timer with `opts`.\n   *\n   * - `min` initial timeout in milliseconds [100]\n   * - `max` max timeout [10000]\n   * - `jitter` [0]\n   * - `factor` [2]\n   *\n   * @param {Object} opts\n   * @api public\n   */\n  function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n  }\n  /**\n   * Return the backoff duration.\n   *\n   * @return {Number}\n   * @api public\n   */\n  Backoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n      var rand = Math.random();\n      var deviation = Math.floor(rand * this.jitter * ms);\n      ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n  };\n  /**\n   * Reset the number of attempts.\n   *\n   * @api public\n   */\n  Backoff.prototype.reset = function () {\n    this.attempts = 0;\n  };\n  /**\n   * Set the minimum duration\n   *\n   * @api public\n   */\n  Backoff.prototype.setMin = function (min) {\n    this.ms = min;\n  };\n  /**\n   * Set the maximum duration\n   *\n   * @api public\n   */\n  Backoff.prototype.setMax = function (max) {\n    this.max = max;\n  };\n  /**\n   * Set the jitter\n   *\n   * @api public\n   */\n  Backoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n  };\n});","lineCount":74,"map":[[7,2,12,0,"exports"],[7,9,12,0],[7,10,12,0,"Backoff"],[7,17,12,0],[7,20,12,0,"Backoff"],[7,27,12,0],[8,2,1,0],[9,0,2,0],[10,0,3,0],[11,0,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,2,12,7],[19,11,12,16,"Backoff"],[19,18,12,23,"Backoff"],[19,19,12,24,"opts"],[19,23,12,28],[19,25,12,30],[20,4,13,4,"opts"],[20,8,13,8],[20,11,13,11,"opts"],[20,15,13,15],[20,19,13,19],[20,20,13,20],[20,21,13,21],[21,4,14,4],[21,8,14,8],[21,9,14,9,"ms"],[21,11,14,11],[21,14,14,14,"opts"],[21,18,14,18],[21,19,14,19,"min"],[21,22,14,22],[21,26,14,26],[21,29,14,29],[22,4,15,4],[22,8,15,8],[22,9,15,9,"max"],[22,12,15,12],[22,15,15,15,"opts"],[22,19,15,19],[22,20,15,20,"max"],[22,23,15,23],[22,27,15,27],[22,32,15,32],[23,4,16,4],[23,8,16,8],[23,9,16,9,"factor"],[23,15,16,15],[23,18,16,18,"opts"],[23,22,16,22],[23,23,16,23,"factor"],[23,29,16,29],[23,33,16,33],[23,34,16,34],[24,4,17,4],[24,8,17,8],[24,9,17,9,"jitter"],[24,15,17,15],[24,18,17,18,"opts"],[24,22,17,22],[24,23,17,23,"jitter"],[24,29,17,29],[24,32,17,32],[24,33,17,33],[24,37,17,37,"opts"],[24,41,17,41],[24,42,17,42,"jitter"],[24,48,17,48],[24,52,17,52],[24,53,17,53],[24,56,17,56,"opts"],[24,60,17,60],[24,61,17,61,"jitter"],[24,67,17,67],[24,70,17,70],[24,71,17,71],[25,4,18,4],[25,8,18,8],[25,9,18,9,"attempts"],[25,17,18,17],[25,20,18,20],[25,21,18,21],[26,2,19,0],[27,2,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,2,26,0,"Backoff"],[33,9,26,7],[33,10,26,8,"prototype"],[33,19,26,17],[33,20,26,18,"duration"],[33,28,26,26],[33,31,26,29],[33,43,26,41],[34,4,27,4],[34,8,27,8,"ms"],[34,10,27,10],[34,13,27,13],[34,17,27,17],[34,18,27,18,"ms"],[34,20,27,20],[34,23,27,23,"Math"],[34,27,27,27],[34,28,27,28,"pow"],[34,31,27,31],[34,32,27,32],[34,36,27,36],[34,37,27,37,"factor"],[34,43,27,43],[34,45,27,45],[34,49,27,49],[34,50,27,50,"attempts"],[34,58,27,58],[34,60,27,60],[34,61,27,61],[35,4,28,4],[35,8,28,8],[35,12,28,12],[35,13,28,13,"jitter"],[35,19,28,19],[35,21,28,21],[36,6,29,8],[36,10,29,12,"rand"],[36,14,29,16],[36,17,29,19,"Math"],[36,21,29,23],[36,22,29,24,"random"],[36,28,29,30],[36,29,29,31],[36,30,29,32],[37,6,30,8],[37,10,30,12,"deviation"],[37,19,30,21],[37,22,30,24,"Math"],[37,26,30,28],[37,27,30,29,"floor"],[37,32,30,34],[37,33,30,35,"rand"],[37,37,30,39],[37,40,30,42],[37,44,30,46],[37,45,30,47,"jitter"],[37,51,30,53],[37,54,30,56,"ms"],[37,56,30,58],[37,57,30,59],[38,6,31,8,"ms"],[38,8,31,10],[38,11,31,13],[38,12,31,14,"Math"],[38,16,31,18],[38,17,31,19,"floor"],[38,22,31,24],[38,23,31,25,"rand"],[38,27,31,29],[38,30,31,32],[38,32,31,34],[38,33,31,35],[38,36,31,38],[38,37,31,39],[38,42,31,44],[38,43,31,45],[38,46,31,48,"ms"],[38,48,31,50],[38,51,31,53,"deviation"],[38,60,31,62],[38,63,31,65,"ms"],[38,65,31,67],[38,68,31,70,"deviation"],[38,77,31,79],[39,4,32,4],[40,4,33,4],[40,11,33,11,"Math"],[40,15,33,15],[40,16,33,16,"min"],[40,19,33,19],[40,20,33,20,"ms"],[40,22,33,22],[40,24,33,24],[40,28,33,28],[40,29,33,29,"max"],[40,32,33,32],[40,33,33,33],[40,36,33,36],[40,37,33,37],[41,2,34,0],[41,3,34,1],[42,2,35,0],[43,0,36,0],[44,0,37,0],[45,0,38,0],[46,0,39,0],[47,2,40,0,"Backoff"],[47,9,40,7],[47,10,40,8,"prototype"],[47,19,40,17],[47,20,40,18,"reset"],[47,25,40,23],[47,28,40,26],[47,40,40,38],[48,4,41,4],[48,8,41,8],[48,9,41,9,"attempts"],[48,17,41,17],[48,20,41,20],[48,21,41,21],[49,2,42,0],[49,3,42,1],[50,2,43,0],[51,0,44,0],[52,0,45,0],[53,0,46,0],[54,0,47,0],[55,2,48,0,"Backoff"],[55,9,48,7],[55,10,48,8,"prototype"],[55,19,48,17],[55,20,48,18,"setMin"],[55,26,48,24],[55,29,48,27],[55,39,48,37,"min"],[55,42,48,40],[55,44,48,42],[56,4,49,4],[56,8,49,8],[56,9,49,9,"ms"],[56,11,49,11],[56,14,49,14,"min"],[56,17,49,17],[57,2,50,0],[57,3,50,1],[58,2,51,0],[59,0,52,0],[60,0,53,0],[61,0,54,0],[62,0,55,0],[63,2,56,0,"Backoff"],[63,9,56,7],[63,10,56,8,"prototype"],[63,19,56,17],[63,20,56,18,"setMax"],[63,26,56,24],[63,29,56,27],[63,39,56,37,"max"],[63,42,56,40],[63,44,56,42],[64,4,57,4],[64,8,57,8],[64,9,57,9,"max"],[64,12,57,12],[64,15,57,15,"max"],[64,18,57,18],[65,2,58,0],[65,3,58,1],[66,2,59,0],[67,0,60,0],[68,0,61,0],[69,0,62,0],[70,0,63,0],[71,2,64,0,"Backoff"],[71,9,64,7],[71,10,64,8,"prototype"],[71,19,64,17],[71,20,64,18,"setJitter"],[71,29,64,27],[71,32,64,30],[71,42,64,40,"jitter"],[71,48,64,46],[71,50,64,48],[72,4,65,4],[72,8,65,8],[72,9,65,9,"jitter"],[72,15,65,15],[72,18,65,18,"jitter"],[72,24,65,24],[73,2,66,0],[73,3,66,1],[74,0,66,2],[74,3]],"functionMap":{"names":["<global>","Backoff","Backoff.prototype.duration","Backoff.prototype.reset","Backoff.prototype.setMin","Backoff.prototype.setMax","Backoff.prototype.setJitter"],"mappings":"AAA;OCW;CDO;6BEO;CFQ;0BGM;CHE;2BIM;CJE;2BKM;CLE;8BMM;CNE"},"hasCjsExports":false},"type":"js/module"}]}