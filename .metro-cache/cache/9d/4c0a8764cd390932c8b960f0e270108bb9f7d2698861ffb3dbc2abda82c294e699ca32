{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":36,"index":36}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":37},"end":{"line":2,"column":42,"index":79}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":80},"end":{"line":3,"column":50,"index":130}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":131},"end":{"line":4,"column":69,"index":200}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/socket","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":201},"end":{"line":5,"column":47,"index":248}}],"key":"Zr9DRnwDVZxHFeGDyPwyujLo6pk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"D:\\\\Ghostly\\\\frontend\\\\app\\\\_layout.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return RootLayout;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoRouter = require(_dependencyMap[1], \"expo-router\");\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNative = require(_dependencyMap[3], \"react-native\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesSocket = require(_dependencyMap[5], \"../services/socket\");\n  var socketService = _interopDefault(_servicesSocket);\n  var _reactJsxDevRuntime = require(_dependencyMap[6], \"react/jsx-dev-runtime\");\n  function RootLayout() {\n    _s();\n    var appState = (0, _react.useRef)(_reactNative.AppState.currentState);\n    (0, _react.useEffect)(() => {\n      // Initialize Socket.IO connection\n      console.log('ðŸ”µ Initializing Socket.IO connection...');\n      socketService.default.connect();\n      return () => {\n        socketService.default.disconnect();\n      };\n    }, []);\n    (0, _react.useEffect)(() => {\n      // Only clear session on background for mobile (not web)\n      // Web tabs switching shouldn't clear the session\n      if (_reactNative.Platform.OS !== 'web') {\n        var subscription = _reactNative.AppState.addEventListener('change', nextAppState => {\n          if (appState.current.match(/active|foreground/) && nextAppState === 'background') {\n            // User moved app to background - clear session after 2 seconds\n            setTimeout(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n              var currentState = _reactNative.AppState.currentState;\n              if (currentState === 'background') {\n                yield AsyncStorage.default.removeItem('nickname');\n                yield AsyncStorage.default.removeItem('userId');\n                console.log('ðŸ”„ Nickname and userId cleared - app sent to background');\n              }\n            }), 2000);\n          }\n          appState.current = nextAppState;\n        });\n        return () => {\n          subscription.remove();\n          socketService.default.disconnect();\n        };\n      }\n\n      // For web, just handle socket disconnect on unmount\n      return () => {\n        socketService.default.disconnect();\n      };\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack, {\n      screenOptions: {\n        headerShown: false\n      },\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n        name: \"index\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n        name: \"nickname\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n        name: \"(tabs)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this);\n  }\n  _s(RootLayout, \"SJ6bdVgpRcCPNoHTwKgwl3+2iw4=\");\n  _c = RootLayout;\n  var _c;\n  $RefreshReg$(_c, \"RootLayout\");\n});","lineCount":103,"map":[[14,2,7,15,"Object"],[14,8,7,15],[14,9,7,15,"defineProperty"],[14,23,7,15],[14,24,7,15,"exports"],[14,31,7,15],[15,4,7,15,"enumerable"],[15,14,7,15],[16,4,7,15,"get"],[16,7,7,15],[16,18,7,15,"get"],[16,19,7,15],[17,6,7,15],[17,13,7,15,"RootLayout"],[17,23,7,15],[18,4,7,15],[19,2,7,15],[20,2,59,1],[20,6,59,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,42,59,1],[20,45,59,1,"require"],[20,52,59,1],[20,53,59,1,"_dependencyMap"],[20,67,59,1],[21,2,59,1],[21,6,59,1,"_asyncToGenerator"],[21,23,59,1],[21,26,59,1,"_interopDefault"],[21,41,59,1],[21,42,59,1,"_babelRuntimeHelpersAsyncToGenerator"],[21,78,59,1],[22,2,1,0],[22,6,1,0,"_expoRouter"],[22,17,1,0],[22,20,1,0,"require"],[22,27,1,0],[22,28,1,0,"_dependencyMap"],[22,42,1,0],[23,2,2,0],[23,6,2,0,"_react"],[23,12,2,0],[23,15,2,0,"require"],[23,22,2,0],[23,23,2,0,"_dependencyMap"],[23,37,2,0],[24,2,3,0],[24,6,3,0,"_reactNative"],[24,18,3,0],[24,21,3,0,"require"],[24,28,3,0],[24,29,3,0,"_dependencyMap"],[24,43,3,0],[25,2,4,0],[25,6,4,0,"_reactNativeAsyncStorageAsyncStorage"],[25,42,4,0],[25,45,4,0,"require"],[25,52,4,0],[25,53,4,0,"_dependencyMap"],[25,67,4,0],[26,2,4,0],[26,6,4,0,"AsyncStorage"],[26,18,4,0],[26,21,4,0,"_interopDefault"],[26,36,4,0],[26,37,4,0,"_reactNativeAsyncStorageAsyncStorage"],[26,73,4,0],[27,2,5,0],[27,6,5,0,"_servicesSocket"],[27,21,5,0],[27,24,5,0,"require"],[27,31,5,0],[27,32,5,0,"_dependencyMap"],[27,46,5,0],[28,2,5,0],[28,6,5,0,"socketService"],[28,19,5,0],[28,22,5,0,"_interopDefault"],[28,37,5,0],[28,38,5,0,"_servicesSocket"],[28,53,5,0],[29,2,5,47],[29,6,5,47,"_reactJsxDevRuntime"],[29,25,5,47],[29,28,5,47,"require"],[29,35,5,47],[29,36,5,47,"_dependencyMap"],[29,50,5,47],[30,2,7,15],[30,11,7,24,"RootLayout"],[30,21,7,34,"RootLayout"],[30,22,7,34],[30,24,7,37],[31,4,7,37,"_s"],[31,6,7,37],[32,4,8,2],[32,8,8,8,"appState"],[32,16,8,16],[32,19,8,19],[32,23,8,19,"useRef"],[32,29,8,25],[32,30,8,25,"useRef"],[32,36,8,25],[32,38,8,26,"AppState"],[32,50,8,34],[32,51,8,34,"AppState"],[32,59,8,34],[32,60,8,35,"currentState"],[32,72,8,47],[32,73,8,48],[33,4,10,2],[33,8,10,2,"useEffect"],[33,14,10,11],[33,15,10,11,"useEffect"],[33,24,10,11],[33,26,10,12],[33,32,10,18],[34,6,11,4],[35,6,12,4,"console"],[35,13,12,11],[35,14,12,12,"log"],[35,17,12,15],[35,18,12,16],[35,59,12,57],[35,60,12,58],[36,6,13,4,"socketService"],[36,19,13,17],[36,20,13,17,"default"],[36,27,13,17],[36,28,13,18,"connect"],[36,35,13,25],[36,36,13,26],[36,37,13,27],[37,6,15,4],[37,13,15,11],[37,19,15,17],[38,8,16,6,"socketService"],[38,21,16,19],[38,22,16,19,"default"],[38,29,16,19],[38,30,16,20,"disconnect"],[38,40,16,30],[38,41,16,31],[38,42,16,32],[39,6,17,4],[39,7,17,5],[40,4,18,2],[40,5,18,3],[40,7,18,5],[40,9,18,7],[40,10,18,8],[41,4,20,2],[41,8,20,2,"useEffect"],[41,14,20,11],[41,15,20,11,"useEffect"],[41,24,20,11],[41,26,20,12],[41,32,20,18],[42,6,21,4],[43,6,22,4],[44,6,23,4],[44,10,23,8,"Platform"],[44,22,23,16],[44,23,23,16,"Platform"],[44,31,23,16],[44,32,23,17,"OS"],[44,34,23,19],[44,39,23,24],[44,44,23,29],[44,46,23,31],[45,8,24,6],[45,12,24,12,"subscription"],[45,24,24,24],[45,27,24,27,"AppState"],[45,39,24,35],[45,40,24,35,"AppState"],[45,48,24,35],[45,49,24,36,"addEventListener"],[45,65,24,52],[45,66,24,53],[45,74,24,61],[45,76,24,64,"nextAppState"],[45,88,24,76],[45,92,24,81],[46,10,25,8],[46,14,25,12,"appState"],[46,22,25,20],[46,23,25,21,"current"],[46,30,25,28],[46,31,25,29,"match"],[46,36,25,34],[46,37,25,35],[46,56,25,54],[46,57,25,55],[46,61,25,59,"nextAppState"],[46,73,25,71],[46,78,25,76],[46,90,25,88],[46,92,25,90],[47,12,26,10],[48,12,27,10,"setTimeout"],[48,22,27,20],[48,40,27,20,"_asyncToGenerator"],[48,57,27,20],[48,58,27,20,"default"],[48,65,27,20],[48,67,27,21],[48,80,27,33],[49,14,28,12],[49,18,28,18,"currentState"],[49,30,28,30],[49,33,28,33,"AppState"],[49,45,28,41],[49,46,28,41,"AppState"],[49,54,28,41],[49,55,28,42,"currentState"],[49,67,28,54],[50,14,29,12],[50,18,29,16,"currentState"],[50,30,29,28],[50,35,29,33],[50,47,29,45],[50,49,29,47],[51,16,30,14],[51,22,30,20,"AsyncStorage"],[51,34,30,32],[51,35,30,32,"default"],[51,42,30,32],[51,43,30,33,"removeItem"],[51,53,30,43],[51,54,30,44],[51,64,30,54],[51,65,30,55],[52,16,31,14],[52,22,31,20,"AsyncStorage"],[52,34,31,32],[52,35,31,32,"default"],[52,42,31,32],[52,43,31,33,"removeItem"],[52,53,31,43],[52,54,31,44],[52,62,31,52],[52,63,31,53],[53,16,32,14,"console"],[53,23,32,21],[53,24,32,22,"log"],[53,27,32,25],[53,28,32,26],[53,85,32,83],[53,86,32,84],[54,14,33,12],[55,12,34,10],[55,13,34,11],[55,16,34,13],[55,20,34,17],[55,21,34,18],[56,10,35,8],[57,10,37,8,"appState"],[57,18,37,16],[57,19,37,17,"current"],[57,26,37,24],[57,29,37,27,"nextAppState"],[57,41,37,39],[58,8,38,6],[58,9,38,7],[58,10,38,8],[59,8,40,6],[59,15,40,13],[59,21,40,19],[60,10,41,8,"subscription"],[60,22,41,20],[60,23,41,21,"remove"],[60,29,41,27],[60,30,41,28],[60,31,41,29],[61,10,42,8,"socketService"],[61,23,42,21],[61,24,42,21,"default"],[61,31,42,21],[61,32,42,22,"disconnect"],[61,42,42,32],[61,43,42,33],[61,44,42,34],[62,8,43,6],[62,9,43,7],[63,6,44,4],[65,6,46,4],[66,6,47,4],[66,13,47,11],[66,19,47,17],[67,8,48,6,"socketService"],[67,21,48,19],[67,22,48,19,"default"],[67,29,48,19],[67,30,48,20,"disconnect"],[67,40,48,30],[67,41,48,31],[67,42,48,32],[68,6,49,4],[68,7,49,5],[69,4,50,2],[69,5,50,3],[69,7,50,5],[69,9,50,7],[69,10,50,8],[70,4,52,2],[70,24,53,4],[70,28,53,4,"_reactJsxDevRuntime"],[70,47,53,4],[70,48,53,4,"jsxDEV"],[70,54,53,4],[70,56,53,5,"_expoRouter"],[70,67,53,10],[70,68,53,10,"Stack"],[70,73,53,10],[71,6,53,11,"screenOptions"],[71,19,53,24],[71,21,53,26],[72,8,53,28,"headerShown"],[72,19,53,39],[72,21,53,41],[73,6,53,47],[73,7,53,49],[74,6,53,49,"children"],[74,14,53,49],[74,30,54,6],[74,34,54,6,"_reactJsxDevRuntime"],[74,53,54,6],[74,54,54,6,"jsxDEV"],[74,60,54,6],[74,62,54,7,"_expoRouter"],[74,73,54,12],[74,74,54,12,"Stack"],[74,79,54,12],[74,80,54,13,"Screen"],[74,86,54,19],[75,8,54,20,"name"],[75,12,54,24],[75,14,54,25],[76,6,54,32],[77,8,54,32,"fileName"],[77,16,54,32],[77,18,54,32,"_jsxFileName"],[77,30,54,32],[78,8,54,32,"lineNumber"],[78,18,54,32],[79,8,54,32,"columnNumber"],[79,20,54,32],[80,6,54,32],[80,13,54,34],[80,14,54,35],[80,29,55,6],[80,33,55,6,"_reactJsxDevRuntime"],[80,52,55,6],[80,53,55,6,"jsxDEV"],[80,59,55,6],[80,61,55,7,"_expoRouter"],[80,72,55,12],[80,73,55,12,"Stack"],[80,78,55,12],[80,79,55,13,"Screen"],[80,85,55,19],[81,8,55,20,"name"],[81,12,55,24],[81,14,55,25],[82,6,55,35],[83,8,55,35,"fileName"],[83,16,55,35],[83,18,55,35,"_jsxFileName"],[83,30,55,35],[84,8,55,35,"lineNumber"],[84,18,55,35],[85,8,55,35,"columnNumber"],[85,20,55,35],[86,6,55,35],[86,13,55,37],[86,14,55,38],[86,29,56,6],[86,33,56,6,"_reactJsxDevRuntime"],[86,52,56,6],[86,53,56,6,"jsxDEV"],[86,59,56,6],[86,61,56,7,"_expoRouter"],[86,72,56,12],[86,73,56,12,"Stack"],[86,78,56,12],[86,79,56,13,"Screen"],[86,85,56,19],[87,8,56,20,"name"],[87,12,56,24],[87,14,56,25],[88,6,56,33],[89,8,56,33,"fileName"],[89,16,56,33],[89,18,56,33,"_jsxFileName"],[89,30,56,33],[90,8,56,33,"lineNumber"],[90,18,56,33],[91,8,56,33,"columnNumber"],[91,20,56,33],[92,6,56,33],[92,13,56,35],[92,14,56,36],[93,4,56,36],[94,6,56,36,"fileName"],[94,14,56,36],[94,16,56,36,"_jsxFileName"],[94,28,56,36],[95,6,56,36,"lineNumber"],[95,16,56,36],[96,6,56,36,"columnNumber"],[96,18,56,36],[97,4,56,36],[97,11,57,11],[97,12,57,12],[98,2,59,0],[99,2,59,1,"_s"],[99,4,59,1],[99,5,7,24,"RootLayout"],[99,15,7,34],[100,2,7,34,"_c"],[100,4,7,34],[100,7,7,24,"RootLayout"],[100,17,7,34],[101,2,7,34],[101,6,7,34,"_c"],[101,8,7,34],[102,2,7,34,"$RefreshReg$"],[102,14,7,34],[102,15,7,34,"_c"],[102,17,7,34],[103,0,7,34],[103,3]],"functionMap":{"names":["<global>","RootLayout","useEffect$argument_0","<anonymous>","AppState.addEventListener$argument_1","setTimeout$argument_0"],"mappings":"AAA;eCM;YCG;WCK;KDE;GDC;YCE;+DEI;qBCG;WDO;OFI;aCE;ODG;WCI;KDE;GDC"},"hasCjsExports":false},"type":"js/module"}]}