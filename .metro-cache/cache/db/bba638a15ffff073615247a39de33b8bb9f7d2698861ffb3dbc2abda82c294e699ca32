{"dependencies":[{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":36,"index":36}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":37},"end":{"line":2,"column":42,"index":79}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/AppState","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JfCM6WRyn2619+pzBJhEHd1+SSw=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":131},"end":{"line":4,"column":69,"index":200}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/socket","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":201},"end":{"line":5,"column":47,"index":248}}],"key":"Zr9DRnwDVZxHFeGDyPwyujLo6pk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/_layout.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return RootLayout;\n    }\n  });\n  var _expoRouter = require(_dependencyMap[0], \"expo-router\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeWebDistExportsAppState = require(_dependencyMap[2], \"react-native-web/dist/exports/AppState\");\n  var AppState = _interopDefault(_reactNativeWebDistExportsAppState);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesSocket = require(_dependencyMap[5], \"../services/socket\");\n  var socketService = _interopDefault(_servicesSocket);\n  var _reactJsxDevRuntime = require(_dependencyMap[6], \"react/jsx-dev-runtime\");\n  function RootLayout() {\n    const appState = (0, _react.useRef)(AppState.default.currentState);\n    (0, _react.useEffect)(() => {\n      // Initialize Socket.IO connection\n      console.log('ðŸ”µ Initializing Socket.IO connection...');\n      socketService.default.connect();\n      return () => {\n        socketService.default.disconnect();\n      };\n    }, []);\n    (0, _react.useEffect)(() => {\n      // Only clear session on background for mobile (not web)\n      // Web tabs switching shouldn't clear the session\n      if (Platform.default.OS !== 'web') {\n        const subscription = AppState.default.addEventListener('change', nextAppState => {\n          if (appState.current.match(/active|foreground/) && nextAppState === 'background') {\n            // User moved app to background - clear session after 2 seconds\n            setTimeout(async () => {\n              const currentState = AppState.default.currentState;\n              if (currentState === 'background') {\n                await AsyncStorage.default.removeItem('nickname');\n                await AsyncStorage.default.removeItem('userId');\n                console.log('ðŸ”„ Nickname and userId cleared - app sent to background');\n              }\n            }, 2000);\n          }\n          appState.current = nextAppState;\n        });\n        return () => {\n          subscription.remove();\n          socketService.default.disconnect();\n        };\n      }\n\n      // For web, just handle socket disconnect on unmount\n      return () => {\n        socketService.default.disconnect();\n      };\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack, {\n      screenOptions: {\n        headerShown: false\n      },\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n        name: \"index\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n        name: \"nickname\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n        name: \"(tabs)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this);\n  }\n});","lineCount":98,"map":[[13,2,7,15,"Object"],[13,8,7,15],[13,9,7,15,"defineProperty"],[13,23,7,15],[13,24,7,15,"exports"],[13,31,7,15],[14,4,7,15,"enumerable"],[14,14,7,15],[15,4,7,15,"get"],[15,7,7,15],[15,18,7,15,"get"],[15,19,7,15],[16,6,7,15],[16,13,7,15,"RootLayout"],[16,23,7,15],[17,4,7,15],[18,2,7,15],[19,2,1,0],[19,6,1,0,"_expoRouter"],[19,17,1,0],[19,20,1,0,"require"],[19,27,1,0],[19,28,1,0,"_dependencyMap"],[19,42,1,0],[20,2,2,0],[20,6,2,0,"_react"],[20,12,2,0],[20,15,2,0,"require"],[20,22,2,0],[20,23,2,0,"_dependencyMap"],[20,37,2,0],[21,2,2,42],[21,6,2,42,"_reactNativeWebDistExportsAppState"],[21,40,2,42],[21,43,2,42,"require"],[21,50,2,42],[21,51,2,42,"_dependencyMap"],[21,65,2,42],[22,2,2,42],[22,6,2,42,"AppState"],[22,14,2,42],[22,17,2,42,"_interopDefault"],[22,32,2,42],[22,33,2,42,"_reactNativeWebDistExportsAppState"],[22,67,2,42],[23,2,2,42],[23,6,2,42,"_reactNativeWebDistExportsPlatform"],[23,40,2,42],[23,43,2,42,"require"],[23,50,2,42],[23,51,2,42,"_dependencyMap"],[23,65,2,42],[24,2,2,42],[24,6,2,42,"Platform"],[24,14,2,42],[24,17,2,42,"_interopDefault"],[24,32,2,42],[24,33,2,42,"_reactNativeWebDistExportsPlatform"],[24,67,2,42],[25,2,4,0],[25,6,4,0,"_reactNativeAsyncStorageAsyncStorage"],[25,42,4,0],[25,45,4,0,"require"],[25,52,4,0],[25,53,4,0,"_dependencyMap"],[25,67,4,0],[26,2,4,0],[26,6,4,0,"AsyncStorage"],[26,18,4,0],[26,21,4,0,"_interopDefault"],[26,36,4,0],[26,37,4,0,"_reactNativeAsyncStorageAsyncStorage"],[26,73,4,0],[27,2,5,0],[27,6,5,0,"_servicesSocket"],[27,21,5,0],[27,24,5,0,"require"],[27,31,5,0],[27,32,5,0,"_dependencyMap"],[27,46,5,0],[28,2,5,0],[28,6,5,0,"socketService"],[28,19,5,0],[28,22,5,0,"_interopDefault"],[28,37,5,0],[28,38,5,0,"_servicesSocket"],[28,53,5,0],[29,2,5,47],[29,6,5,47,"_reactJsxDevRuntime"],[29,25,5,47],[29,28,5,47,"require"],[29,35,5,47],[29,36,5,47,"_dependencyMap"],[29,50,5,47],[30,2,7,15],[30,11,7,24,"RootLayout"],[30,21,7,34,"RootLayout"],[30,22,7,34],[30,24,7,37],[31,4,8,2],[31,10,8,8,"appState"],[31,18,8,16],[31,21,8,19],[31,25,8,19,"useRef"],[31,31,8,25],[31,32,8,25,"useRef"],[31,38,8,25],[31,40,8,26,"AppState"],[31,48,8,34],[31,49,8,34,"default"],[31,56,8,34],[31,57,8,35,"currentState"],[31,69,8,47],[31,70,8,48],[32,4,10,2],[32,8,10,2,"useEffect"],[32,14,10,11],[32,15,10,11,"useEffect"],[32,24,10,11],[32,26,10,12],[32,32,10,18],[33,6,11,4],[34,6,12,4,"console"],[34,13,12,11],[34,14,12,12,"log"],[34,17,12,15],[34,18,12,16],[34,59,12,57],[34,60,12,58],[35,6,13,4,"socketService"],[35,19,13,17],[35,20,13,17,"default"],[35,27,13,17],[35,28,13,18,"connect"],[35,35,13,25],[35,36,13,26],[35,37,13,27],[36,6,15,4],[36,13,15,11],[36,19,15,17],[37,8,16,6,"socketService"],[37,21,16,19],[37,22,16,19,"default"],[37,29,16,19],[37,30,16,20,"disconnect"],[37,40,16,30],[37,41,16,31],[37,42,16,32],[38,6,17,4],[38,7,17,5],[39,4,18,2],[39,5,18,3],[39,7,18,5],[39,9,18,7],[39,10,18,8],[40,4,20,2],[40,8,20,2,"useEffect"],[40,14,20,11],[40,15,20,11,"useEffect"],[40,24,20,11],[40,26,20,12],[40,32,20,18],[41,6,21,4],[42,6,22,4],[43,6,23,4],[43,10,23,8,"Platform"],[43,18,23,16],[43,19,23,16,"default"],[43,26,23,16],[43,27,23,17,"OS"],[43,29,23,19],[43,34,23,24],[43,39,23,29],[43,41,23,31],[44,8,24,6],[44,14,24,12,"subscription"],[44,26,24,24],[44,29,24,27,"AppState"],[44,37,24,35],[44,38,24,35,"default"],[44,45,24,35],[44,46,24,36,"addEventListener"],[44,62,24,52],[44,63,24,53],[44,71,24,61],[44,73,24,64,"nextAppState"],[44,85,24,76],[44,89,24,81],[45,10,25,8],[45,14,25,12,"appState"],[45,22,25,20],[45,23,25,21,"current"],[45,30,25,28],[45,31,25,29,"match"],[45,36,25,34],[45,37,25,35],[45,56,25,54],[45,57,25,55],[45,61,25,59,"nextAppState"],[45,73,25,71],[45,78,25,76],[45,90,25,88],[45,92,25,90],[46,12,26,10],[47,12,27,10,"setTimeout"],[47,22,27,20],[47,23,27,21],[47,35,27,33],[48,14,28,12],[48,20,28,18,"currentState"],[48,32,28,30],[48,35,28,33,"AppState"],[48,43,28,41],[48,44,28,41,"default"],[48,51,28,41],[48,52,28,42,"currentState"],[48,64,28,54],[49,14,29,12],[49,18,29,16,"currentState"],[49,30,29,28],[49,35,29,33],[49,47,29,45],[49,49,29,47],[50,16,30,14],[50,22,30,20,"AsyncStorage"],[50,34,30,32],[50,35,30,32,"default"],[50,42,30,32],[50,43,30,33,"removeItem"],[50,53,30,43],[50,54,30,44],[50,64,30,54],[50,65,30,55],[51,16,31,14],[51,22,31,20,"AsyncStorage"],[51,34,31,32],[51,35,31,32,"default"],[51,42,31,32],[51,43,31,33,"removeItem"],[51,53,31,43],[51,54,31,44],[51,62,31,52],[51,63,31,53],[52,16,32,14,"console"],[52,23,32,21],[52,24,32,22,"log"],[52,27,32,25],[52,28,32,26],[52,85,32,83],[52,86,32,84],[53,14,33,12],[54,12,34,10],[54,13,34,11],[54,15,34,13],[54,19,34,17],[54,20,34,18],[55,10,35,8],[56,10,37,8,"appState"],[56,18,37,16],[56,19,37,17,"current"],[56,26,37,24],[56,29,37,27,"nextAppState"],[56,41,37,39],[57,8,38,6],[57,9,38,7],[57,10,38,8],[58,8,40,6],[58,15,40,13],[58,21,40,19],[59,10,41,8,"subscription"],[59,22,41,20],[59,23,41,21,"remove"],[59,29,41,27],[59,30,41,28],[59,31,41,29],[60,10,42,8,"socketService"],[60,23,42,21],[60,24,42,21,"default"],[60,31,42,21],[60,32,42,22,"disconnect"],[60,42,42,32],[60,43,42,33],[60,44,42,34],[61,8,43,6],[61,9,43,7],[62,6,44,4],[64,6,46,4],[65,6,47,4],[65,13,47,11],[65,19,47,17],[66,8,48,6,"socketService"],[66,21,48,19],[66,22,48,19,"default"],[66,29,48,19],[66,30,48,20,"disconnect"],[66,40,48,30],[66,41,48,31],[66,42,48,32],[67,6,49,4],[67,7,49,5],[68,4,50,2],[68,5,50,3],[68,7,50,5],[68,9,50,7],[68,10,50,8],[69,4,52,2],[69,24,53,4],[69,28,53,4,"_reactJsxDevRuntime"],[69,47,53,4],[69,48,53,4,"jsxDEV"],[69,54,53,4],[69,56,53,5,"_expoRouter"],[69,67,53,10],[69,68,53,10,"Stack"],[69,73,53,10],[70,6,53,11,"screenOptions"],[70,19,53,24],[70,21,53,26],[71,8,53,28,"headerShown"],[71,19,53,39],[71,21,53,41],[72,6,53,47],[72,7,53,49],[73,6,53,49,"children"],[73,14,53,49],[73,30,54,6],[73,34,54,6,"_reactJsxDevRuntime"],[73,53,54,6],[73,54,54,6,"jsxDEV"],[73,60,54,6],[73,62,54,7,"_expoRouter"],[73,73,54,12],[73,74,54,12,"Stack"],[73,79,54,12],[73,80,54,13,"Screen"],[73,86,54,19],[74,8,54,20,"name"],[74,12,54,24],[74,14,54,25],[75,6,54,32],[76,8,54,32,"fileName"],[76,16,54,32],[76,18,54,32,"_jsxFileName"],[76,30,54,32],[77,8,54,32,"lineNumber"],[77,18,54,32],[78,8,54,32,"columnNumber"],[78,20,54,32],[79,6,54,32],[79,13,54,34],[79,14,54,35],[79,29,55,6],[79,33,55,6,"_reactJsxDevRuntime"],[79,52,55,6],[79,53,55,6,"jsxDEV"],[79,59,55,6],[79,61,55,7,"_expoRouter"],[79,72,55,12],[79,73,55,12,"Stack"],[79,78,55,12],[79,79,55,13,"Screen"],[79,85,55,19],[80,8,55,20,"name"],[80,12,55,24],[80,14,55,25],[81,6,55,35],[82,8,55,35,"fileName"],[82,16,55,35],[82,18,55,35,"_jsxFileName"],[82,30,55,35],[83,8,55,35,"lineNumber"],[83,18,55,35],[84,8,55,35,"columnNumber"],[84,20,55,35],[85,6,55,35],[85,13,55,37],[85,14,55,38],[85,29,56,6],[85,33,56,6,"_reactJsxDevRuntime"],[85,52,56,6],[85,53,56,6,"jsxDEV"],[85,59,56,6],[85,61,56,7,"_expoRouter"],[85,72,56,12],[85,73,56,12,"Stack"],[85,78,56,12],[85,79,56,13,"Screen"],[85,85,56,19],[86,8,56,20,"name"],[86,12,56,24],[86,14,56,25],[87,6,56,33],[88,8,56,33,"fileName"],[88,16,56,33],[88,18,56,33,"_jsxFileName"],[88,30,56,33],[89,8,56,33,"lineNumber"],[89,18,56,33],[90,8,56,33,"columnNumber"],[90,20,56,33],[91,6,56,33],[91,13,56,35],[91,14,56,36],[92,4,56,36],[93,6,56,36,"fileName"],[93,14,56,36],[93,16,56,36,"_jsxFileName"],[93,28,56,36],[94,6,56,36,"lineNumber"],[94,16,56,36],[95,6,56,36,"columnNumber"],[95,18,56,36],[96,4,56,36],[96,11,57,11],[96,12,57,12],[97,2,59,0],[98,0,59,1],[98,3]],"functionMap":{"names":["<global>","RootLayout","useEffect$argument_0","<anonymous>","AppState.addEventListener$argument_1","setTimeout$argument_0"],"mappings":"AAA;eCM;YCG;WCK;KDE;GDC;YCE;+DEI;qBCG;WDO;OFI;aCE;ODG;WCI;KDE;GDC"},"hasCjsExports":false},"type":"js/module"}]}